<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style type="text/css">
	    html,body{
			margin: 0;
			padding: 0;
	    }
		#container{
			position: absolute;
			left: 50%;
			transform: translateX(-50%);
			width: 70%;
			height: 50%;
		}
		#container .sliders, #container img{
			width: 100%;
			height: 100%;
		}
		.sliders li{
			position: absolute;
			left: 0;
			top: 0;
			display: inline-block;
			width: 100%;
			height: 100%;
		}
		#container .togs{
			position: absolute;
			left: 50%;
			transform: translateX(-50%);
			bottom: 10px;
			z-index: 10;
		}
		.togs li{
			display: inline-block;
			width: 10px;
			height: 10px;
			border-radius: 50% 50%;
			background: #fff;
			cursor: pointer;
		}
	</style>
</head>
<body>
	<div id="container">
		<ul class="togs">
			<li></li>
			<li></li>
			<li></li>
		</ul>
<!-- 		<ul class="sliders">
			<li class="slider"><img title="1" src="./imgs/banner1.jpg"></li>
			<li class="slider"><img title="2" src="./imgs/banner2.jpg"></li>
			<li class="slider"><img title="3" src="./imgs/banner3.jpg"></li>
		</ul> -->
	</div>
	<!-- <script type="text/javascript" src="http://code.jquery.com/jquery-latest.js"></script> -->
	<script src="http://cdn.bootcss.com/jquery/3.1.1/jquery.js"></script>
	<script type="text/javascript">
		var util = {
			html2node: function(template){
				var container = $('<div></div>');
				container.html(template);
				return container[0].children[0];
			},

			extend: function(o1, o2){
				for(var i in o2){
					if(o1[i] === undefined){
						o1[i] = o2[i];
					}
				}
			}
		}
		var template = 
			'<ul class="sliders">\
				<li class="slider"><img title="1" src="./imgs/banner1.jpg"></li>\
				<li class="slider"><img title="2" src="./imgs/banner2.jpg"></li>\
				<li class="slider"><img title="3" src="./imgs/banner3.jpg"></li>\
			</ul>';
		function Slider(options){

			$.extend(this, options);
			this.container = this.container || document.body;
			this.container.style.overflow = 'hidden';

			this.imgs = this.images || [];
			this.imgsNum = this.imgs.length;

			this.togsNum = 3;

			this.pageIndex = this.pageIndex || 0;
			this.sliderIndex = 1;
			this.offsetAll = this.pageIndex;

			this.sliderWrap = this._layout.querySelector('.slider');
			this.sliders = [].slice.call(this._layout.querySelectorAll('.slider'));
			$(this.container).append(this._layout);
		}

		$.extend(Slider.prototype, {
			_layout: util.html2node(template),
			// _layout: function(){
			// 	return  util.html2node(template);
			// },

			pre: function(){
				this._step(-1);
			},

			next: function(){
				this._step(1);
			},

			// nav: function(index){
			// 	this.pageIndex = index;
			// 	this.sliderIndex = this.pageIndex + 1;
			// 	this.offsetAll = this.pageIndex;
			// },

			_normindex: function(index, length){
				return (index + length) % length;
			},

			_step: function(index){
				this.pageIndex += index;
				this.sliderIndex += index; 
				this.offsetAll += index;
				this._calcade();
			},

			_normindex: function(index, num){
				return index % num;
			},

			_calcade: function(){
				var imgsNum = this.imgsNum;
				var pageIndex = this.pageIndex = this._normindex(this.pageIndex, this.imgsNum);
				var sliderIndex = this.sliderIndex = this._normindex(this.sliderIndex, this.togsNUm);
				var offsetAll = this.offsetAll;

				this.sliders[sliderIndex].style.left = offsetAll * 100 + '%';
				this.sliders[sliderIndex - 1].style.left = (offsetAll - 1) * 100 + '%';
				this.sliders[sliderIndex + 1].style.left = parseInt(offsetAll + 1) * 100 + '%';
				this.sliderWrap.style.transform = 'translateX(-offsetAll * 100 + '%') translateZ(0)';

				this._onNav(this.pageIndex, sliderIndex);
			},

			_onNav: function(imgIndex, sliderIndex){
				var sliders = this.sliders;
				for(var i = 0; i < sliders.length; i++){
					sliders[i].src = this.imgs[imgIndex]; 
					imgIndex++;
				}
			}


		})
	</script>
	<script>
		var container = document.querySelector('#container');
		var slider = new Slider({
			container:  container,
			images: [
				'./imgs/banner1.jpg',
				'./imgs/banner2.jpg',
				'./imgs/banner3.jpg',
			]
		});
	</script>
</body>
</html>